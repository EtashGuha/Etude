(* 
https://github.com/hughperkins/coriander/blob/master/src/branches_as_switch/branches_as_switch.cpp
 *)